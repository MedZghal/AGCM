<section class="content">
  <div class="block-header">
    <div class="row">
      <div class="col-lg-7 col-md-6 col-sm-12">
        <h2>Gestion des Patients
          <small>Liste des Patients </small>
        </h2>
      </div>
      <div class="col-lg-5 col-md-6 col-sm-12">
        <button class="btn btn-white btn-icon btn-round hidden-sm-down float-right m-l-10" type="button">
          <i class="zmdi zmdi-plus"></i>
        </button>
        <ul class="breadcrumb float-md-right">
          <li class="breadcrumb-item"><a routerLink="/dashboard/main"><i class="zmdi zmdi-home"></i> MedPro</a></li>
          <li class="breadcrumb-item active">Le {{ date | moment :'LLLL'}}</li>
        </ul>
      </div>
    </div>
  </div>
  <div class="container-fluid">
    <div class="row clearfix">
      <div class="col-lg-12 col-md-12 col-sm-12">
        <div class="card">

          <div class="body">
              <!-- Nav tabs -->
              <ul class="nav nav-tabs" >
                <li class="nav-item"><a class="nav-link" data-toggle="tab" href="#home" aria-expanded="false"> Nouveau Patient </a></li>
                <li class="nav-item badge1"  data-badge="6" ><a class="nav-link active" data-toggle="tab" href="#settings" aria-expanded="true">Patients  &nbsp;&nbsp;</a></li>
              </ul>
              <!-- Tab panes -->
              <div class="tab-content">

                  <div role="tabpanel" class="tab-pane in" id="home" aria-expanded="false">

                    <div class="header">
                      <h2><strong>FICHE PATIENT</strong></h2>
                    </div>

                    <div class="row clearfix">

                      <div class="col-lg-4"> <b>Nom</b>
                        <div class="input-group">
                          <span class="input-group-addon"><i class="zmdi zmdi-calendar"></i> </span>
                          <input type="text" class="form-control" placeholder="Nom">
                        </div>
                      </div>

                      <div class="col-lg-4"> <b>Prénom</b>
                        <div class="input-group">
                          <span class="input-group-addon"><i class="zmdi zmdi-calendar"></i> </span>
                          <input type="text" class="form-control" placeholder="Prénom">
                        </div>
                      </div>

                      <div class="col-lg-4"> <b>Num Fiche</b>
                        <div class="input-group">
                          <span class="input-group-addon"><i class="zmdi zmdi-calendar"></i> </span>
                          <input type="text" class="form-control" placeholder="Num Fiche">
                        </div>
                      </div>


                      <div class="col-lg-4"> <b>Date de Naissance</b>
                        <div class="input-group">
                          <span class="input-group-addon"><i class="zmdi zmdi-calendar"></i> </span>
                          <input type="text"  class="form-control" placeholder="Date de Naissance">
                        </div>
                      </div>

                      <div class="col-lg-4"> <b>Sexe</b>
                        <div class="input-group">
                          <span class="input-group-addon"><i class="zmdi zmdi-calendar"></i> </span>
                          <input type="text" class="form-control" placeholder="Sexe">
                        </div>
                      </div>

                      <div class="col-lg-4"> <b>Sutuation Familiaire</b>
                        <div class="input-group">
                          <span class="input-group-addon"><i class="zmdi zmdi-calendar"></i> </span>
                          <input type="text" class="form-control" placeholder="Sutuation Familiaire">
                        </div>
                      </div>

                      <div class="col-lg-4"> <b>Entrer l'âge du patient</b>
                        <div class="input-group">
                          <span class="input-group-addon"><i class="zmdi zmdi-calendar"></i> </span>
                          <input type="text" class="form-control" placeholder="âge">
                        </div>
                      </div>

                      <div class="col-lg-4"> <b>Entrer Poid du patient</b>
                        <div class="input-group">
                          <span class="input-group-addon"><i class="zmdi zmdi-calendar"></i> </span>
                          <input type="text" class="form-control" placeholder=" Poid ">
                        </div>
                      </div>

                      <div class="col-lg-4"> <b>Profession</b>
                        <div class="input-group">
                          <span class="input-group-addon"><i class="zmdi zmdi-calendar"></i> </span>
                          <input type="text" class="form-control" placeholder="Profession">
                        </div>
                      </div>

                      <h2 class="card-inside-title" style="margin-left: 15px; font-weight: bolder;">Adresse</h2>
                      <div class="col-sm-12" style="margin-bottom: 10px;">
                        <div class="form-group">
                          <div class="form-line">
                            <textarea rows="4" class="form-control no-resize" placeholder="Enter l'adresse du patient"></textarea>
                          </div>
                        </div>
                      </div>

                      <div class="col-lg-3"> <b>Profession</b>
                        <div class="input-group">
                          <span class="input-group-addon"><i class="zmdi zmdi-calendar"></i> </span>
                          <input type="text" class="form-control" placeholder="Profession">
                        </div>
                      </div>

                      <div class="col-lg-3"> <b>Profession</b>
                        <div class="input-group">
                          <span class="input-group-addon"><i class="zmdi zmdi-calendar"></i> </span>
                          <input type="text" class="form-control" placeholder="Profession">
                        </div>
                      </div>

                      <div class="col-lg-3"> <b>Profession</b>
                        <div class="input-group">
                          <span class="input-group-addon"><i class="zmdi zmdi-calendar"></i> </span>
                          <input type="text" class="form-control" placeholder="Profession">
                        </div>
                      </div>

                      <div class="col-lg-3"> <b>Profession</b>
                        <div class="input-group">
                          <span class="input-group-addon"><i class="zmdi zmdi-calendar"></i> </span>
                          <input type="text" class="form-control" placeholder="Profession">
                        </div>
                      </div>

                    </div>

                    <!--Asureé CNAM-->
                    <div >
                      <div class="header">
                        <h2 data-toggle="collapse" href="#collapseExample" aria-expanded="false" aria-controls="collapseExample"> <strong>CNAM <small> Asureé CNAM </small></strong></h2>
                        <ul class="header-dropdown">
                          <li class="dropdown"> <a href="javascript:void(0);" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"> <i class="zmdi zmdi-more"></i> </a>
                            <ul class="dropdown-menu dropdown-menu-right slideUp float-right">
                              <li><a href="javascript:void(0);">Edit</a></li>
                              <li><a href="javascript:void(0);">Delete</a></li>
                              <li><a href="javascript:void(0);">Report</a></li>
                            </ul>
                          </li>
                          <!--<li class="remove">-->
                            <!--<a role="button" class="boxs-close"><i class="zmdi zmdi-close"></i></a>-->
                          <!--</li>-->
                        </ul>
                      </div>
                      <div class="body">

                        <div class="collapse" id="collapseExample" aria-expanded="false" style="">

                        <div class="row">
                          <div class="col-lg-6"> <b>Régime d'Affiliation</b>
                            <div class="input-group">
                              <span class="input-group-addon"><i class="zmdi zmdi-calendar"></i> </span>
                              <input type="text" class="form-control" placeholder="Régime d'Affiliation">
                            </div>
                          </div>

                          <div class="col-lg-6"> <b>Identifient Unique</b>
                            <div class="input-group">
                              <span class="input-group-addon"><i class="zmdi zmdi-calendar"></i> </span>
                              <input type="text" class="form-control" placeholder="Identifient Unique">
                            </div>
                          </div>

                          <div class="col-lg-6"> <b>Qualité</b>
                            <div class="input-group">
                              <span class="input-group-addon"><i class="zmdi zmdi-calendar"></i> </span>
                              <input type="text" class="form-control" placeholder="Qualité">
                            </div>
                          </div>

                          <div class="col-lg-6"> <b>Date de Validation Carnet CNAM</b>
                            <div class="input-group">
                              <span class="input-group-addon"><i class="zmdi zmdi-calendar"></i> </span>
                              <input type="text" class="form-control" placeholder="Date de Validation Carnet CNAM">
                            </div>
                          </div>

                          <div class="col-lg-6"> <b>Type Assurance</b>
                            <div class="input-group">
                              <span class="input-group-addon"><i class="zmdi zmdi-calendar"></i> </span>
                              <input type="text" class="form-control" placeholder="Type Assurance">
                            </div>
                          </div>

                          <div class="col-lg-6"> <b>Rang Assuré</b>
                            <div class="input-group">
                              <span class="input-group-addon"><i class="zmdi zmdi-calendar"></i> </span>
                              <input type="text" class="form-control" placeholder="Rang Assuré">
                            </div>
                          </div>

                          <div class="col-lg-6"> <b>Nom Médecin de famille</b>
                            <div class="input-group">
                              <span class="input-group-addon"><i class="zmdi zmdi-calendar"></i> </span>
                              <input type="text" class="form-control" placeholder="Nom Médecin de famille">
                            </div>
                          </div>

                          <div class="col-lg-6"> <b>Code Cnam</b>
                            <div class="input-group">
                              <span class="input-group-addon"><i class="zmdi zmdi-calendar"></i> </span>
                              <input type="text" class="form-control" placeholder="Code Cnam">
                            </div>
                          </div>

                        </div>
                      </div>
                      </div>
                    </div>

                    <!-- Demande de APCI -->
                    <div >
                      <div class="header">
                        <h2 data-toggle="collapse" href="#collapseapci" aria-expanded="false" aria-controls="collapseExample"> <strong> APCI <small>Demande de APCI</small> </strong></h2>
                        <ul class="header-dropdown">
                          <li class="dropdown"> <a href="javascript:void(0);" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"> <i class="zmdi zmdi-more"></i> </a>
                            <ul class="dropdown-menu dropdown-menu-right slideUp float-right">
                              <li><a href="javascript:void(0);">Edit</a></li>
                              <li><a href="javascript:void(0);">Delete</a></li>
                              <li><a href="javascript:void(0);">Report</a></li>
                            </ul>
                          </li>
                          <!--<li class="remove">-->
                          <!--<a role="button" class="boxs-close"><i class="zmdi zmdi-close"></i></a>-->
                          <!--</li>-->
                        </ul>
                      </div>
                      <div class="body">

                        <div class="collapse" id="collapseapci" aria-expanded="false" style="">

                          <div class="row">
                            <div class="col-lg-6"> <b>Type APCI</b>
                              <div class="input-group">
                                <span class="input-group-addon"><i class="zmdi zmdi-calendar"></i> </span>
                                <input type="text" class="form-control" placeholder="Type APCI">
                              </div>
                            </div>

                            <div class="col-lg-6"> <b>Code APCI</b>
                              <div class="input-group">
                                <span class="input-group-addon"><i class="zmdi zmdi-calendar"></i> </span>
                                <input type="text" class="form-control" placeholder="Code APCI">
                              </div>
                            </div>

                            <div class="col-lg-12"> <b>Date de Validation APCI</b>
                              <div class="input-group">
                                <span class="input-group-addon"><i class="zmdi zmdi-calendar"></i> </span>
                                <input type="text" class="form-control" placeholder="Date de Validation APCI">
                              </div>
                            </div>

                            <h2 class="card-inside-title" style="margin-left: 15px; font-weight: bolder;">Traitements APCI</h2>
                            <div class="col-lg-12">
                              <form [formGroup]="orderForm" >
                              <div formArrayName="items"
                                   *ngFor="let item of formData.controls; let i = index;">
                                <div [formGroupName]="i">
                                  <div class="row">
                                    <div class="col-lg-5"> <b> Médicament</b>

                                        <ng-select
                                          formControlName="name"
                                          [items]="medic"
                                          bindLabel="desgMedic"
                                          [loading]="consultsLoading"
                                          placeholder="Sélectionnez un Médicament ">
                                          <ng-template  ng-option-tmp let-item="item" let-index="index" let-search="searchTerm">
                                            <div>
                                              <div>
                                                <p class="card-text" style="width: 100px">
                                                  <img height="50" width="50" src="./assets/img/medicament.png"/>
                                                </p>
                                                <div style="margin-top: -65px; margin-left: 55px;">
                                                  <h5 class="card-title" [ngOptionHighlight]="search">{{item.numMedic}}</h5>
                                                  <h6 class="card-subtitle mb-2 text-muted" [ngOptionHighlight]="search">{{item.desgMedic }} </h6>
                                                </div>
                                              </div>
                                            </div>
                                          </ng-template>
                                        </ng-select>

                                    </div>
                                    <div class="col-lg-1 col-sm-1 col-md-1 "> <b>Posologie</b>
                                      <div class="input-group">
                                        <input class="form-control" style=" border: 1px solid #E3E3E3; border-radius: 4px;    padding-right: 5px; " type="number" formControlName="Posologie0" >
                                      </div>
                                    </div>
                                    <div class="col-lg-1 col-sm-1 col-md-1 " style=" margin-top: 18px;padding: 0px; ">
                                      <ng-select  [searchable]="true" formControlName="Posologie1">
                                        <ng-option value="amp" > amp </ng-option>
                                        <ng-option value="appl">appl</ng-option>
                                        <ng-option value="cachet"> cachet </ng-option>
                                        <ng-option value="c à c"> c à c </ng-option>
                                        <ng-option value="c à m"> c à m </ng-option>
                                        <ng-option value="c à s"> c à s </ng-option>
                                        <ng-option value="dose"> dose </ng-option>
                                        <ng-option value="géllule"> géllule </ng-option>
                                        <ng-option value="goutte"> goutte </ng-option>
                                        <ng-option value="granule"> granule </ng-option>
                                        <ng-option value="injection"> injection </ng-option>
                                        <ng-option value="ml"> ml </ng-option>
                                        <ng-option value="nébulisati"> nébulisati </ng-option>
                                        <ng-option value="ovule"> ovule </ng-option>
                                        <ng-option value="comp"> comp </ng-option>
                                        <ng-option value="disp"> disp </ng-option>
                                        <ng-option value="panseme"> panseme </ng-option>
                                        <ng-option value="pastille"> pastille </ng-option>
                                        <ng-option value="patch"> patch </ng-option>
                                        <ng-option value="pulv"> pulv </ng-option>
                                        <ng-option value="sachet"> sachet </ng-option>
                                        <ng-option value="suppo"> suppo </ng-option>
                                        <ng-option value="tablette"> tablette </ng-option>
                                        <ng-option value="timbre"> timbre </ng-option>
                                      </ng-select>
                                    </div>
                                    <div class="col-lg-1 col-sm-1 col-md-1 " style=" margin-top: 18px;">
                                      <div class="input-group">
                                        <input class="form-control" style=" border: 1px solid #E3E3E3; border-radius: 4px;    padding-right: 5px; " type="number" formControlName="Posologie2" >
                                      </div>
                                    </div> <div class="col-lg-1 col-sm-1 col-md-1 " style=" margin-top: 18px;padding: 0px; ">

                                      <ng-select  [searchable]="true" formControlName="Posologie3">
                                        <ng-option value="jour" > jour </ng-option>
                                        <ng-option value="semaine">semaine</ng-option>
                                        <ng-option value="mois">  mois  </ng-option>
                                      </ng-select>
                                    </div>
                                    <div class="col-lg-1 col-sm-1 col-md-1 " style=" margin-top: 18px;">
                                      <div class="input-group">
                                        <input class="form-control" style=" border: 1px solid #E3E3E3; border-radius: 4px;    padding-right: 5px; " type="number" formControlName="Posologie4">
                                      </div>
                                    </div>
                                    <div class="col-lg-1 col-sm-1 col-md-1 " style=" margin-top: 18px;padding: 0px; ">
                                      <ng-select  [searchable]="false" formControlName="Posologie5">
                                        <ng-option value="jour" > jour </ng-option>
                                        <ng-option value="semaine">semaine</ng-option>
                                        <ng-option value="mois">  mois  </ng-option>
                                      </ng-select>
                                    </div>
                                    <div class="col-lg-1 col-sm-1 col-md-1 " style=" margin-top: 10px;">
                                      <button (click)="deleteRow(i)" class="btn btn-danger">
                                        <span><i class="zmdi zmdi-delete"></i> </span>
                                      </button>
                                    </div>
                                  </div>
                                 <div *ngIf="orderForm.controls.items.controls[i].controls.name.value !== null">
                                   Presciption : {{ orderForm.controls.items.controls[i].controls.name.value.desgMedic }}  {{ orderForm.controls.items.controls[i].controls.Posologie0.value }} , {{ orderForm.controls.items.controls[i].controls.Posologie1.value }} * {{ orderForm.controls.items.controls[i].controls.Posologie2.value }} {{ orderForm.controls.items.controls[i].controls.Posologie3.value }} Pendant {{ orderForm.controls.items.controls[i].controls.Posologie4.value }}  {{ orderForm.controls.items.controls[i].controls.Posologie5.value }}
                                 </div>
                                </div>
                              </div>

                                <button type="submit" (click)="addItem()" [disabled]="!orderForm.valid"  class="btn btn-primary btn-round">
                                  <i class="zmdi zmdi-plus-square"></i>  Ajouter Médicament
                                </button>

                            </form>
                            </div>

                          </div>
                        </div>
                      </div>
                    </div>

                    <!--  Autre Assurance -->
                    <div >
                      <div class="header">
                        <h2 data-toggle="collapse" href="#collapseAssurance" aria-expanded="false" aria-controls="collapseExample"> <strong>   Autre Assurance <small> Asureé Autre Assurance (ou Mutuelle) </small> </strong></h2>
                        <ul class="header-dropdown">
                          <li class="dropdown"> <a href="javascript:void(0);" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"> <i class="zmdi zmdi-more"></i> </a>
                            <ul class="dropdown-menu dropdown-menu-right slideUp float-right">
                              <li><a href="javascript:void(0);">Edit</a></li>
                              <li><a href="javascript:void(0);">Delete</a></li>
                              <li><a href="javascript:void(0);">Report</a></li>
                            </ul>
                          </li>
                          <!--<li class="remove">-->
                          <!--<a role="button" class="boxs-close"><i class="zmdi zmdi-close"></i></a>-->
                          <!--</li>-->
                        </ul>
                      </div>
                      <div class="body">

                        <div class="collapse" id="collapseAssurance" aria-expanded="false" style="">

                          <div class="row">
                            <div class="col-lg-12"> <b>Assurance</b>
                              <div class="input-group">
                                <span class="input-group-addon"><i class="zmdi zmdi-calendar"></i> </span>
                                <input type="text" class="form-control" placeholder="Régime d'Affiliation">
                              </div>
                            </div>


                          </div>
                        </div>
                      </div>
                    </div>


                  </div>

                  <div role="tabpanel" class="tab-pane active" id="settings" aria-expanded="true" style=" margin-top: -50px; " >
                    <div id="contents" class="backgrid-container"></div>
                  </div>
              </div>




          </div>
        </div>
      </div>

    </div>
  </div>
  <app-footer></app-footer>
</section>
